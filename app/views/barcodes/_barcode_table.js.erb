var Barcode = function(data){
	this.id = data.id;
	this.number = data.number;
	this.created_at = data.created_at;
	this.ware_id = data.ware_id;
}

var TableVM = function(){
	var self = this;
	this.barcodes = ko.observableArray();
	<% if @barcodes %>
	<% @barcodes.each do |b|%>
		this.barcodes.push(new Barcode({ number: '<%= b.number%>', id: '<%= b.id%>', created_at: '<%=b.created_at%>', ware_id: '<%= b.ware_id%>' }));
	<% end %>
	<% end %>
	this.deleteBarcode = function(id){alert(id.id)};
	this.showBarcode = function(id){
		temp = $.ajax({ type: 'GET', datatype: 'xml', url: '/barcodes/' + id.id, cache: false,
			success: function (xml) {
			  console.log(xml);
        	  alert($(temp).find('created-at').text());
        	  //alert('<%= params%>');
      		},
      		error: function (xhr, ajaxOptions, thrownError) {
       		  alert(xhr.status);
              alert(thrownError);
      		}
	})

	};
	this.editBarcode = function(){};

}

ko.applyBindings(new TableVM(), document.getElementById('barcode-table'))